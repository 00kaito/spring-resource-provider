spring.application.name=replit-spring-boot-application

spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.serialization.write-empty-json-arrays=false
spring.jackson.serialization.write-null-map-values=false

spring.codec.max-in-memory-size=10MB

spring.webflux.hiddenmethod.filter.enabled=true

server.port=8080
server.address=0.0.0.0
server.compression.min-response-size=64KB
server.forward-headers-strategy=native
server.http2.enabled=true
server.netty.connection-timeout=PT5S
server.netty.idle-timeout=PT65S
server.netty.max-keep-alive-requests=1000
server.servlet.session.cookie.http-only=true

management.endpoint.health.probes.enabled=true
management.server.port=8080

# JWT Configuration - for token validation only (tokens generated externally)
jwt.secret=myVerySecureSecretKeyThatIsLongEnoughForHMACHS256Algorithm
jwt.expiration=86400000
jwt.issuer=replit-audio-service
jwt.audience=audio-client

# Main Application URL for access verification
main-app.url=https://main-app.com
main-app.timeout=5000
main-app.retry-attempts=3

# Rate Limiting Configuration
resilience4j.ratelimiter.instances.default.limitForPeriod=10
resilience4j.ratelimiter.instances.default.limitRefreshPeriod=PT1S
resilience4j.ratelimiter.instances.default.timeoutDuration=PT0.1S

resilience4j.ratelimiter.instances.audio-access.limitForPeriod=5
resilience4j.ratelimiter.instances.audio-access.limitRefreshPeriod=PT1S
resilience4j.ratelimiter.instances.audio-access.timeoutDuration=PT0.1S

# Monitoring and Metrics
management.endpoints.web.exposure.include=health,metrics,prometheus
management.endpoint.health.show-details=when-authorized
management.metrics.export.prometheus.enabled=true

# Logging Configuration
logging.level.com.replit=INFO
logging.level.com.replit.controller.AudioController=DEBUG
logging.level.com.replit.service.AccessService=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Security Headers
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=strict